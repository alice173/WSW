<!--prettier-ignore-->
{% extends "base.html" %} 
{% block head_title %}Saved Routes{% endblock %} 
{% load static %}
{% block extra_head %}{% endblock %}
{% block content %}
{% if routes %}
<h2>Saved Routes</h2>
{% if messages %}
<ul class="messages">
    {% for message in messages %}
        <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
</ul>
{% endif %}
<table>
  <thead>
    <tr>
      <th>Title</th>
      <th>Start Point</th>
      <th>End Point</th>
      <th>Date</th>
      <th>Time Taken</th>
      <th>Distance</th>
      <th>Elevation</th>
      <th>Comments</th>
      <th></th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for route in routes %}
    <tr>
      <td>{{ route.title }}</td>
      <td>{{ route.start_point }}</td>
      <td>{{ route.end_point }}</td>
      <td>{{ route.date }}</td>
      <td>{{ route.time_taken }} hrs</td>
      <td>{{ route.distance }}</td>
      <td>{{ route.elevation }}</td>
      <td>{{ route.comments }}</td>
      <td><a href="/route/{{ route.id }}">View</a></td>
      <td>
        <a href="{% url 'route_edit' route.pk %}">Edit</a>
        <a href="#delete-modal">Delete</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p>
  You have no saved routes.
  <a href="{% url 'route_create' %}">Click here to add one.</a>
</p>
{% endif %} {% for route in routes %}

<div id="delete-modal" class="modal">
  <div class="modal-content">
    <header>
      <h2>Delete Route?</h2>
      <a href="#" class="closebtn"><i class="fa fa-times"></i></a>
    </header>

    <p>
      Are you sure you want to delete this route? This action can't be undone.
    </p>

    <footer>
      <form method="post" action="{% url 'route_delete' route.pk %}">
        {% csrf_token %}
        <button type="submit" class="btn btn-danger">Delete</button>
        <a href="#" class="btn btn-secondary closebtn">Cancel</a>
      </form>
    </footer>
  </div>
</div>
<!--prettier-ignore-->
{% endfor %} 
{% endblock %}
